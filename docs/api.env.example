# Copy this file to apps/api/.env and adjust values for your environment
PORT=4000
JWT_ACCESS_SECRET=dev_access
JWT_REFRESH_SECRET=dev_refresh
MASTER_DATABASE_URL=postgresql://user:pass@localhost:5432/afrigest_master
TENANT_DATABASE_URL=postgresql://user:pass@localhost:5432/afrigest_tenant_demo

# --- E-COMMERCE ---
ECOM_BASE_DOMAIN=afrigest.com
ECOM_WILDCARD_DOMAIN_ENABLED=true

# --- PAYMENTS (Phase 1: Stripe + COD) ---
STRIPE_SECRET_KEY=sk_test_xxx
STRIPE_WEBHOOK_SECRET=whsec_xxx

# Stripe Webhook configuration (notes):
# - Webhook URL pattern (per tenant):
#   https://<your-domain>/api/tenants/{tenantId}/ecommerce/webhooks/stripe
# - The backend requires raw body for signature validation. This route is already
#   mounted with express.raw in apps/api/src/app.ts before express.json().
# - In Stripe Dashboard (Developers > Webhooks), add an endpoint with at least:
#   payment_intent.succeeded

# --- MOBILE MONEY (Phase suivante) ---
MOMO_MTN_API_KEY=
MOMO_ORANGE_API_KEY=

# --- Storage (S3) ---
S3_REGION=
S3_BUCKET=
S3_KEY_PREFIX=uploads/

# --- CDN (CloudFront Signed URLs for Private GET) ---
# See docs/s3-private.md for full details
CLOUDFRONT_DOMAIN=
CLOUDFRONT_KEY_PAIR_ID=
# PEM value; store securely (Secrets Manager or env with restricted access)
CLOUDFRONT_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----\n"
CLOUDFRONT_SIGNED_URL_TTL_SECONDS=300
